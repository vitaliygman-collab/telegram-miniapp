<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Mini App</title>
  <style>
    :root{
      --bg0:#070a12;
      --bg1:#0b1022;
      --stroke:#ffffff14;
      --text:#eaf0ff;
      --muted:#a7b1d6;
      --good:#2de38a;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --r: 18px;
      --pad: 18px;
      --tap: 54px;
      --ease: cubic-bezier(.2,.9,.2,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
      color:var(--text);
      background: linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* NEW: dark blurred background image + vignette */
    .bg{
      position:fixed; inset:0;
      z-index:0;
      pointer-events:none;
    }
    .bg::before{
      content:"";
      position:absolute; inset:-30px;
      background-image: url("./bg.jpg");
      background-size: cover;
      background-position: center;
      filter: blur(10px) saturate(0.9) contrast(1.05);
      opacity: .45;
      transform: scale(1.03);
    }
    .bg::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(1200px 800px at 20% 0%, rgba(122,44,255,.20) 0%, transparent 60%),
        radial-gradient(1000px 800px at 85% 10%, rgba(45,227,138,.16) 0%, transparent 60%),
        radial-gradient(900px 900px at 50% 115%, rgba(0,0,0,.65) 0%, rgba(0,0,0,.9) 70%),
        linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.78));
    }

    /* subtle floating “chips” overlay (very blurred, low opacity) */
    .fx{
      position:fixed; inset:-20vh -20vw;
      pointer-events:none;
      opacity:.22;
      z-index:0;
      filter: blur(14px);
      mix-blend-mode: screen;
    }
    .fx:before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(34px 34px at 14% 20%, rgba(255,255,255,.20) 0 34%, transparent 36%),
        radial-gradient(38px 38px at 26% 72%, rgba(255,204,51,.14) 0 34%, transparent 36%),
        radial-gradient(28px 28px at 78% 24%, rgba(45,227,138,.12) 0 35%, transparent 37%),
        radial-gradient(42px 42px at 86% 66%, rgba(122,44,255,.12) 0 34%, transparent 36%),
        radial-gradient(30px 30px at 54% 38%, rgba(13,214,181,.10) 0 32%, transparent 34%);
      animation: drift 16s var(--ease) infinite alternate;
    }
    @keyframes drift{
      from{transform: translate3d(-2vw,-1vh,0) scale(1)}
      to{transform: translate3d(2vw,2vh,0) scale(1.02)}
    }

    .app{position:relative; z-index:1; min-height:100%; display:flex; flex-direction:column;}
    .topbar{
      position:sticky; top:0;
      padding: 14px var(--pad) 10px;
      backdrop-filter: blur(18px);
      background: linear-gradient(180deg, rgba(8,10,18,.82), rgba(8,10,18,.30));
      border-bottom: 1px solid var(--stroke);
      z-index:10;
    }
    .toprow{display:flex; align-items:center; justify-content:space-between; gap:10px;}
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:900; letter-spacing:.8px;
      text-transform:uppercase;
      font-size:13px;
      opacity:.95;
    }
    .pill{
      font-size:12px; color:var(--muted);
      padding:8px 10px; border:1px solid var(--stroke);
      border-radius:999px;
      background:rgba(255,255,255,.04);
    }

    .content{padding: 16px var(--pad) 28px; width:min(520px,100%); margin:0 auto;}

    .screen{display:none; animation: in .35s var(--ease) both;}
    .screen.active{display:block}
    @keyframes in{
      from{opacity:0; transform: translateY(10px) scale(.99)}
      to{opacity:1; transform: translateY(0) scale(1)}
    }

    .h1{
      margin: 14px 0 10px;
      font-size: 26px;
      letter-spacing:-.4px;
      line-height:1.1;
    }

    .card{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: 18px;
      box-shadow: var(--shadow);
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    .game{
      position:relative;
      overflow:hidden;
      min-height: 160px;
      padding: 14px;
      cursor:pointer;
      transition: transform .22s var(--ease);
    }
    .game:hover{transform: translateY(-2px)}
    .game:active{transform: translateY(0)}
    .game .name{
      font-weight:1000;
      letter-spacing:.7px;
      margin-top:10px;
      font-size:13px;
      text-transform:uppercase;
    }

    /* MENU ICONS: show full image, no crop */
    .gArt{
      height:86px;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.24);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      position:relative;
      padding: 8px;
    }
    .gArt img{
      width:100%;
      height:100%;
      object-fit: contain;
      object-position:center;
      filter: saturate(1.05) contrast(1.05);
    }
    .gArt:after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(240px 140px at 30% 20%, rgba(255,255,255,.12), transparent 55%),
                  linear-gradient(180deg, transparent, rgba(0,0,0,.35));
      pointer-events:none;
    }

    .theme{
      position:relative;
      overflow:hidden;
      padding: 16px;
      border-radius: 22px;
      border:1px solid var(--stroke);
      box-shadow: var(--shadow);
    }
    .theme:before{
      content:"";
      position:absolute; inset:-60px;
      opacity:.85;
      filter: blur(18px);
      z-index:0;
      animation: glow 12s var(--ease) infinite alternate;
    }
    @keyframes glow{
      from{transform: translate3d(-10px,-6px,0) scale(1)}
      to{transform: translate3d(10px,8px,0) scale(1.03)}
    }
    .theme > *{position:relative; z-index:1}

    .t-cr:before{
      background:
        radial-gradient(420px 280px at 20% 20%, rgba(255,140,0,.34), transparent 60%),
        radial-gradient(420px 320px at 80% 30%, rgba(255,77,109,.26), transparent 60%),
        radial-gradient(520px 340px at 50% 110%, rgba(255,204,51,.18), transparent 60%);
    }
    .t-cr2:before{
      background:
        radial-gradient(460px 300px at 20% 25%, rgba(255,77,109,.26), transparent 60%),
        radial-gradient(420px 320px at 85% 22%, rgba(122,44,255,.26), transparent 60%),
        radial-gradient(520px 360px at 50% 110%, rgba(45,227,138,.14), transparent 60%);
    }
    .t-mines:before{
      background:
        radial-gradient(460px 320px at 20% 20%, rgba(13,214,181,.20), transparent 60%),
        radial-gradient(420px 320px at 85% 18%, rgba(45,227,138,.14), transparent 60%),
        radial-gradient(520px 360px at 50% 110%, rgba(255,204,51,.10), transparent 60%);
    }

    .head{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom:14px;
    }
    .back{
      display:flex; align-items:center; gap:10px;
      cursor:pointer;
      user-select:none;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      transition: transform .18s var(--ease);
      font-weight:1000;
      letter-spacing:.7px;
      text-transform:uppercase;
      font-size:12px;
    }
    .back:active{transform: scale(.99)}
    .title{
      font-weight:1000;
      text-transform:uppercase;
      font-size:13px;
      letter-spacing:1px;
      opacity:.95;
    }

    .hero{
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      padding: 6px 10px 0;
    }

    .heroChicken{
      width: 162px; height: 162px;
      border-radius: 28px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.20);
      box-shadow: 0 26px 70px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
      display:grid;
      place-items:center;
    }
    .heroChicken::before{
      content:"";
      position:absolute; inset:-20%;
      background:
        radial-gradient(120px 90px at 30% 25%, rgba(255,255,255,.16), transparent 60%),
        radial-gradient(140px 110px at 70% 70%, rgba(255,204,51,.10), transparent 65%);
      filter: blur(10px);
      opacity:.9;
    }
    .heroChicken img{
      width: 138px;
      height: 138px;
      object-fit: contain;
      filter: drop-shadow(0 16px 26px rgba(0,0,0,.35)) saturate(1.05) contrast(1.05);
      transform: translateY(4px);
      position:relative;
      z-index:1;
    }

    /* chicken animation only during loading */
    .analyzing img{
      animation: analyze 1.5s var(--ease) infinite;
    }
    @keyframes analyze{
      0%{ transform: translateY(4px) rotate(0deg) scale(1) }
      35%{ transform: translateY(-2px) rotate(-2deg) scale(1.02) }
      70%{ transform: translateY(2px) rotate(2deg) scale(1.01) }
      100%{ transform: translateY(4px) rotate(0deg) scale(1) }
    }

    .resultWrap{
      width: 246px;
      height: 246px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      display:grid; place-items:center;
      margin: 10px auto 14px;
      position:relative;
      overflow:hidden;
      box-shadow: 0 22px 60px rgba(0,0,0,.35);
    }
    .resultWrap:before{
      content:"";
      position:absolute; inset:-40px;
      background: conic-gradient(from 180deg, rgba(45,227,138,.0), rgba(45,227,138,.35), rgba(255,204,51,.22), rgba(122,44,255,.28), rgba(45,227,138,.0));
      animation: spin 1.6s linear infinite;
      opacity:.62;
      filter: blur(14px);
      display:none;
    }
    @keyframes spin{to{transform: rotate(360deg)}}
    .result{
      font-size: 66px;
      font-weight: 1000;
      letter-spacing:-1px;
      text-shadow: 0 18px 40px rgba(0,0,0,.45);
      text-align:center;
      width:100%;
      line-height:1;
      margin:0;
    }

    .cta{
      width:100%;
      height: var(--tap);
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(45,227,138,.95), rgba(25,200,122,.92));
      color:#062014;
      font-weight: 1000;
      letter-spacing:1px;
      text-transform:uppercase;
      font-size:14px;
      cursor:pointer;
      box-shadow: 0 18px 50px rgba(45,227,138,.18);
      transition: transform .18s var(--ease);
    }
    .cta:active{transform: scale(.99)}
    .cta[disabled]{opacity:.65; cursor:not-allowed; filter:saturate(.8)}

    .levels{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    .lvl{
      height: 44px;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight: 900;
      cursor:pointer;
      transition: transform .16s var(--ease), background .16s var(--ease), border-color .16s var(--ease);
    }
    .lvl.active{
      background: rgba(255,204,51,.20);
      border-color: rgba(255,204,51,.30);
    }
    .lvl:active{transform: scale(.99)}
    .lvl[disabled]{opacity:.45; cursor:not-allowed}

    .mineBoard{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
    }
    .cell{
      aspect-ratio: 1/1;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      display:grid; place-items:center;
      position:relative;
      overflow:hidden;
      transition: transform .18s var(--ease), background .18s var(--ease), border-color .18s var(--ease);
      font-weight:1000;
    }
    .cell:before{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(120px 80px at 30% 20%, rgba(255,255,255,.10), transparent 55%),
                  linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.12));
      opacity:.85;
    }
    .cell.safe{
      background: rgba(45,227,138,.10);
      border-color: rgba(45,227,138,.28);
      transform: translateY(-1px);
    }
    .cell span{position:relative; opacity:.95}

    .loading .resultWrap:before{display:block}
    .loading .result{opacity:.22}
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="fx"></div>

  <div class="app">
    <div class="topbar">
      <div class="toprow">
        <div class="brand">
          <div style="width:10px;height:10px;border-radius:999px;background:linear-gradient(180deg,#2de38a,#7a2cff);box-shadow:0 0 18px rgba(122,44,255,.35)"></div>
          AI Predictor V5.2
        </div>
        <div class="pill" id="topHint">Select a game</div>
      </div>
    </div>

    <div class="content">
      <section class="screen active" id="screenMenu">
        <div class="h1">Select Game</div>

        <div class="grid">
          <div class="card game" data-go="cr">
            <div class="gArt">
              <img alt="Chicken Road" src="./icon_cr.jpg">
            </div>
            <div class="name">Chicken Road</div>
          </div>

          <div class="card game" data-go="cr2">
            <div class="gArt">
              <img alt="Chicken Road 2" src="./icon_cr2.jpg">
            </div>
            <div class="name">Chicken Road 2</div>
          </div>

          <div class="card game" data-go="mines">
            <div class="gArt">
              <img alt="Mines" src="https://mines.bet/_next/image?q=85&url=https%3A%2F%2Fres.cloudinary.com%2Fd-shine%2Fimage%2Fupload%2Fv1663845361%2FEMD%2Fmines.bet%2Fmines-pres_1_keutr6.png&w=3840">
            </div>
            <div class="name">Mines</div>
          </div>
        </div>
      </section>

      <section class="screen" id="screenCR">
        <div class="theme t-cr" id="crTheme">
          <div class="head">
            <div class="back" data-back>← Menu</div>
            <div class="title">Chicken Road</div>
          </div>

          <div class="hero">
            <div class="heroChicken" id="crHero">
              <img src="./chicken_1.png" alt="Chicken">
            </div>
          </div>

          <div class="resultWrap" id="crResultWrap">
            <div class="result" id="crResult">—</div>
          </div>

          <button class="cta" id="crPredict">Predict</button>

          <div class="levels" id="crLevels">
            <button class="lvl active" data-lvl="easy">Easy</button>
            <button class="lvl" data-lvl="medium">Medium</button>
            <button class="lvl" data-lvl="hard">Hard</button>
            <button class="lvl" data-lvl="hardcore" disabled>Hardcore</button>
          </div>
        </div>
      </section>

      <section class="screen" id="screenCR2">
        <div class="theme t-cr2" id="cr2Theme">
          <div class="head">
            <div class="back" data-back>← Menu</div>
            <div class="title">Chicken Road 2</div>
          </div>

          <div class="hero">
            <div class="heroChicken" id="cr2Hero">
              <img src="./chicken_2.png" alt="Chicken">
            </div>
          </div>

          <div class="resultWrap" id="cr2ResultWrap">
            <div class="result" id="cr2Result">—</div>
          </div>

          <button class="cta" id="cr2Predict">Predict</button>

          <div class="levels" id="cr2Levels">
            <button class="lvl active" data-lvl="easy">Easy</button>
            <button class="lvl" data-lvl="medium">Medium</button>
            <button class="lvl" data-lvl="hard">Hard</button>
            <button class="lvl" data-lvl="hardcore">Hardcore</button>
          </div>
        </div>
      </section>

      <section class="screen" id="screenMines">
        <div class="theme t-mines" id="mTheme">
          <div class="head">
            <div class="back" data-back>← Menu</div>
            <div class="title">Mines</div>
          </div>

          <button class="cta" id="mPredict">Predict</button>
          <div class="mineBoard" id="mineBoard"></div>
        </div>
      </section>
    </div>
  </div>

  <script>
    const CR = {
      easy: [1.03,1.07,1.12,1.17,1.23,1.29,1.36,1.44,1.53,1.63,1.75,1.88,2.04,2.22,2.45,2.72,3.06],
      medium:[1.12,1.28,1.47,1.70,1.98,2.33,2.76,3.22],
      hard:  [1.23,1.55,1.98,2.56,3.36],
      hardcore: null
    };
    const CR2 = {
      easy: [1.01,1.03,1.06,1.10,1.15,1.19,1.24,1.30,1.35,1.42,1.48,1.56,1.65,1.75,1.85,1.98,2.12,2.28,2.47,2.70,2.96],
      medium:[1.08,1.21,1.37,1.56,1.78,2.05,2.37,2.77,3.24],
      hard:  [1.18,1.46,1.83,2.31,2.95,3.82],
      hardcore:[1.44,2.21,3.45,5.53]
    };

    const screens = {
      menu: document.getElementById('screenMenu'),
      cr: document.getElementById('screenCR'),
      cr2: document.getElementById('screenCR2'),
      mines: document.getElementById('screenMines')
    };
    const topHint = document.getElementById('topHint');

    function show(name){
      Object.values(screens).forEach(s => s.classList.remove('active'));
      screens[name].classList.add('active');
      topHint.textContent =
        name === 'menu' ? 'Select a game' :
        name === 'cr' ? 'Chicken Road' :
        name === 'cr2' ? 'Chicken Road 2' : 'Mines';
      window.scrollTo({top:0, behavior:'smooth'});
    }
    document.querySelectorAll('.game').forEach(el=>{
      el.addEventListener('click', ()=> show(el.dataset.go));
    });
    document.querySelectorAll('[data-back]').forEach(el=>{
      el.addEventListener('click', ()=> show('menu'));
    });

    const fmt = (x)=> (Math.round(x*100)/100).toFixed(2) + 'x';
    const pick = (arr)=> arr[Math.floor(Math.random()*arr.length)];
    function setActiveLevel(container, lvl){
      container.querySelectorAll('.lvl').forEach(b=>{
        b.classList.toggle('active', b.dataset.lvl === lvl);
      });
    }
    function wireLevels(container, stateObj){
      container.querySelectorAll('.lvl').forEach(b=>{
        if(b.disabled) return;
        b.addEventListener('click', ()=>{
          stateObj.lvl = b.dataset.lvl;
          setActiveLevel(container, stateObj.lvl);
        });
      });
    }

    const ANALYZE_MS = 1500;

    function animatePredict({themeEl, heroEl, resultEl, buttonEl, getValue}){
      buttonEl.addEventListener('click', ()=>{
        themeEl.classList.add('loading');
        heroEl.classList.add('analyzing');
        buttonEl.disabled = true;

        setTimeout(()=>{
          resultEl.textContent = fmt(getValue());
          themeEl.classList.remove('loading');
          heroEl.classList.remove('analyzing');
          buttonEl.disabled = false;
        }, ANALYZE_MS);
      });
    }

    const crState = { lvl:'easy' };
    wireLevels(document.getElementById('crLevels'), crState);
    animatePredict({
      themeEl: document.getElementById('crTheme'),
      heroEl: document.getElementById('crHero'),
      resultEl: document.getElementById('crResult'),
      buttonEl: document.getElementById('crPredict'),
      getValue: ()=> pick(CR[crState.lvl] || CR.easy)
    });

    const cr2State = { lvl:'easy' };
    wireLevels(document.getElementById('cr2Levels'), cr2State);
    animatePredict({
      themeEl: document.getElementById('cr2Theme'),
      heroEl: document.getElementById('cr2Hero'),
      resultEl: document.getElementById('cr2Result'),
      buttonEl: document.getElementById('cr2Predict'),
      getValue: ()=> pick(CR2[cr2State.lvl])
    });

    // MINES
    const mineBoard = document.getElementById('mineBoard');
    function buildMinesBoard(){
      mineBoard.innerHTML = '';
      for(let i=0;i<25;i++){
        const cell = document.createElement('div');
        cell.className = 'cell';
        const sp = document.createElement('span');
        sp.textContent = '';
        cell.appendChild(sp);
        mineBoard.appendChild(cell);
      }
    }
    buildMinesBoard();

    function highlightFive(){
      const cells = [...mineBoard.querySelectorAll('.cell')];
      cells.forEach(c=> { c.classList.remove('safe'); c.querySelector('span').textContent=''; });
      const idx = new Set();
      while(idx.size < 5) idx.add(Math.floor(Math.random()*25));
      idx.forEach(i=>{
        cells[i].classList.add('safe');
        cells[i].querySelector('span').textContent = '★';
      });
    }

    const mTheme = document.getElementById('mTheme');
    const mPredict = document.getElementById('mPredict');
    mPredict.addEventListener('click', ()=>{
      mTheme.classList.add('loading');
      mPredict.disabled = true;
      setTimeout(()=>{
        highlightFive();
        mTheme.classList.remove('loading');
        mPredict.disabled = false;
      }, ANALYZE_MS);
    });

    show('menu');
  </script>
</body>
</html>
